services:
  - type: web
    runtime: static
    name: finnikacc-ui
    buildCommand: npm run build -w webapps/finnikacc-ui
    staticPublishPath: webapps/finnikacc-ui/dist
    pullRequestPreviewsEnabled: true
    autoDeployTrigger: off
    domains:
    - cc.finnika.app
    buildFilter:
      paths:
        - package.json
        - package-lock.json
        - webapps/finnikacc-ui/**/*
      ignoredPaths:
        - webapps/finnikacc-ui/README.md
        - webapps/finnikacc-ui/src/**/__tests__/*
        - webapps/finnikacc-ui/**/.*

  - type: keyvalue
    name: finnikacc-kv
    ipAllowList: []
    region: frankfurt
    plan: free
    maxmemoryPolicy: allkeys-lru
